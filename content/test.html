---
title: "AMED3002 Research Project"
subtitle: "Graphs for Analysis v1.0"
output: 
  html_document:
    toc: true
    toc_float: true
    #code_folding: hide
    number_sections: true
    #theme: cerulean
---



<pre class="r"><code>library(ggplot2)
library(vcd)</code></pre>
<pre><code>## Loading required package: grid</code></pre>
<pre class="r"><code>bcsc &lt;- read.csv(&quot;Data/bcsc/BCSC_risk_factors_summarized.csv&quot;)

bcsc2 &lt;- read.delim(&quot;Data/bcsc/risk.txt&quot;, header = FALSE, sep = &quot;&quot;)
names(bcsc2) &lt;- c(&quot;menopaus&quot;, &quot;agegrp&quot;, &quot;density&quot;, &quot;race&quot;, &quot;hispanic&quot;, &quot;bmi&quot;, &quot;agefirst&quot;, &quot;nrelbc&quot;, &quot;brstproc&quot;, &quot;lastmamm&quot;, &quot;surgmeno&quot;, &quot;hrt&quot;, &quot;invasive&quot;, &quot;cancer&quot;, &quot;training&quot;, &quot;count&quot;)

datahub &lt;- read.csv(&quot;Data/datahub/breast-cancer_csv.csv&quot;)

kaggle &lt;- read.csv(&quot;Data/kaggle/breastCancer.csv&quot;)</code></pre>
<div id="age-vs-incidence" class="section level1">
<h1>Age vs Incidence</h1>
<div id="bcsc-risk-estimation-dataset" class="section level2">
<h2>BCSC Risk Estimation Dataset</h2>
<pre class="r"><code>age.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot;), aes(x = factor(agegrp, labels = c(&quot;35-39&quot;, &quot;40-44&quot;, &quot;45-49&quot;, &quot;50-54&quot;, &quot;55-59&quot;, &quot;60-64&quot;, &quot;65-69&quot;, &quot;70-74&quot;, &quot;75-79&quot;, &quot;80-84&quot;))))
age.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Age on Incidence&quot;, x = &quot;Age&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>The above barplot shows the distribution of age for the women who were diagnosed with breast cancer within 1 year of the beginning of the study. Women had no previous diagnosis of breast cancer before the study.</p>
<p>Documentation for this dataset: <a href="http://www.bcsc-research.org/data/rfdataset/dataset" class="uri">http://www.bcsc-research.org/data/rfdataset/dataset</a></p>
<p>Paper: <a href="https://academic.oup.com/jnci/article/98/17/1204/2521747" class="uri">https://academic.oup.com/jnci/article/98/17/1204/2521747</a></p>
</div>
<div id="datahub-dataset" class="section level2">
<h2>Datahub Dataset</h2>
<pre class="r"><code>age.incidence &lt;- ggplot(datahub, aes(x = factor(age)))
age.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Age on Incidence&quot;, x = &quot;Age&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code># Two-way ANOVA with interaction effect
# These two calls are equivalent
res.aov3 &lt;- aov(agegrp ~ cancer, data = bcsc2)
summary(res.aov3)</code></pre>
<pre><code>##                 Df  Sum Sq Mean Sq F value Pr(&gt;F)    
## cancer           1    1158  1157.6   203.5 &lt;2e-16 ***
## Residuals   280658 1596718     5.7                   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This dataset looks at a number of variables for women who have been diagnosed with breast cancer. The above barplot is simply a frequency of the age groups provided.</p>
<p>“Documentation” for this dataset: <a href="https://datahub.io/machine-learning/breast-cancer" class="uri">https://datahub.io/machine-learning/breast-cancer</a></p>
</div>
</div>
<div id="age-vs-recurrence" class="section level1">
<h1>Age vs Recurrence</h1>
<div id="datahub-dataset-1" class="section level2">
<h2>Datahub Dataset</h2>
<pre class="r"><code>age.recurrence &lt;- ggplot(datahub, aes(x = factor(age)))
age.recurrence + geom_bar(aes(fill = Class)) + labs(title = &quot;Double Barplot of the Effect of Age on Recurrence&quot;, x = &quot;Age&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>I assume the recurrence-events variable means that these women have had a prior diagnosis of breast cancer and after a period of remission, the cancer has returned. Similarly, I assume the no-recurrence-events variable means that these women have been diagnosed with breast cancer for the first time. I’m guessing a bit here due to the lack of documentation.</p>
</div>
</div>
<div id="race-vs-incidence" class="section level1">
<h1>Race vs Incidence</h1>
<div id="bcsc-risk-estimation-dataset-1" class="section level2">
<h2>BCSC Risk Estimation Dataset</h2>
<pre class="r"><code>race.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot; &amp; race &lt;= 5), aes(x = factor(race, labels = c(&quot;White&quot;, &quot;Asian/Pacific Islander&quot;, &quot;Black&quot;, &quot;Native American&quot;, &quot;Other/Mixed&quot;))))
race.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Race on Incidence&quot;, x = &quot;Race / Ethnicity&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>This shows the number of people in each ethnicity who were diagnosed with breast cancer within 1 year. Not sure how to get the relative proportions. TBD. For comparison, this is the total number of people in the study:</p>
<pre class="r"><code>x = factor(bcsc2$race, labels = c(&quot;White&quot;, &quot;Asian/Pacific Islander&quot;, &quot;Black&quot;, &quot;Native American&quot;, &quot;Other/Mixed&quot;, &quot;Unknown&quot;))
summary(x)</code></pre>
<pre><code>##                  White Asian/Pacific Islander                  Black 
##                 155345                  23013                  21468 
##        Native American            Other/Mixed                Unknown 
##                  10645                  12425                  57764</code></pre>
<p>And the number of people who were diagnosed with breast cancer after 1 year (as visualised in the previous barplot):</p>
<pre class="r"><code>x = factor(subset(bcsc2, cancer == &quot;1&quot; &amp; race &lt;= 5)$race, labels = c(&quot;White&quot;, &quot;Asian/Pacific Islander&quot;, &quot;Black&quot;, &quot;Native American&quot;, &quot;Other/Mixed&quot;))
summary(x)</code></pre>
<pre><code>##                  White Asian/Pacific Islander                  Black 
##                   6706                    404                    517 
##        Native American            Other/Mixed 
##                     82                    101</code></pre>
<p>At a glance, white women were more likely to be diagnosed with breast cancer (~3.36%).</p>
</div>
</div>
<div id="menopause-vs-incidence" class="section level1">
<h1>Menopause vs Incidence</h1>
<div id="bcsc-risk-estimation-dataset-2" class="section level2">
<h2>BCSC Risk Estimation Dataset</h2>
<pre class="r"><code>menopause.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot; &amp; menopaus &lt;= 2), aes(x = factor(menopaus, labels = c(&quot;Premenopausal&quot;, &quot;Postmenopausual or Age &gt;= 55&quot;))))
menopause.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Menopause on Incidence&quot;, y = &quot;Frequency&quot;) + theme(axis.title.x = element_blank())</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>The above barplot shows the number of women who were diagnosed with breast cancer within 1 year and whether they were premenopausal or postmenopausal (or older than 55).</p>
</div>
<div id="datahub-dataset-2" class="section level2">
<h2>Datahub Dataset</h2>
<pre class="r"><code>menopause.incidence &lt;- ggplot(datahub, aes(x = factor(menopause)))
menopause.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Menopause on Incidence&quot;, x = &quot;Menopause&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Menopause status of those with breast cancer. Assuming ge40 is greater than 40 years old, lt40 is less than 40 years old (no documentation on these variables). Don’t understand why premenopausal is an entirely separate category. You can be premenopausal and &lt; 40 or &gt; 40. Right?</p>
</div>
</div>
<div id="hormone-therapy-vs-incidence" class="section level1">
<h1>Hormone Therapy vs Incidence</h1>
<div id="bcsc-risk-estimation-dataset-3" class="section level2">
<h2>BCSC Risk Estimation Dataset</h2>
<pre class="r"><code>hrt.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot; &amp; hrt &lt;= 1), aes(x = factor(hrt, labels = c(&quot;No Hormone Therapy&quot;, &quot;Hormone Therapy&quot;))))
hrt.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Hormone Therapy on Incidence&quot;, y = &quot;Frequency&quot;) + theme(axis.title.x = element_blank())</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>The above plot shows the number of women with breast cancer who are receiving (or not receiving) hormone therapy for their menopausal symptoms. Unknown represents women who are either not menopausal or whose status we do not have.</p>
</div>
</div>
<div id="bmi-vs-incidence" class="section level1">
<h1>BMI vs Incidence</h1>
<div id="bcsc-risk-estimation-dataset-4" class="section level2">
<h2>BCSC Risk Estimation Dataset</h2>
<pre class="r"><code>bmi.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot; &amp; bmi &lt;= 4), aes(x = factor(bmi, labels = c(&quot;10-24.99&quot;, &quot;25-29.99&quot;, &quot;30-34.99&quot;, &quot;35 or more&quot;))))
bmi.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of BMI on Incidence&quot;, x = &quot;BMI&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>bmi.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot; &amp; bmi &lt;= 4), aes(x = factor(bmi, labels = c(&quot;10-24.99&quot;, &quot;25-29.99&quot;, &quot;30-34.99&quot;, &quot;35 or more&quot;))))
bmi.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of BMI on Incidence (Unknowns Removed)&quot;, x = &quot;BMI&quot;, y = &quot;Frequency&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<pre class="r"><code>bcsc2 &lt;- subset(bcsc2, bmi &lt;=4)
cancer &lt;- factor(bcsc2$cancer, labels = c(&quot;No&quot;, &quot;Yes&quot;))
bmi &lt;- factor(bcsc2$bmi, labels = c(&quot;10-24.99&quot;, &quot;25-29.99&quot;, &quot;30-34.99&quot;, &quot;35+&quot;))
cancer.bmi &lt;- table(cancer, bmi, dnn = list(&quot;Diagnosis of breast cancer&quot;, &quot;BMI&quot;))
mosaic(cancer.bmi, shade = TRUE, legend = TRUE)</code></pre>
<p><img src="/test_files/figure-html/mosaic-1.png" width="672" /></p>
</div>
</div>
<div id="number-of-first-degree-relatives-vs-incidence" class="section level1">
<h1>Number of first degree relatives vs Incidence</h1>
<div id="bcsc-risk-estimation-dataset-5" class="section level2">
<h2>BCSC Risk Estimation Dataset</h2>
<pre class="r"><code>nrelbc.incidence &lt;- ggplot(subset(bcsc2, cancer == &quot;1&quot; &amp; nrelbc &lt;= 2), aes(x = factor(bmi, labels = c(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;2 or more&quot;))))
nrelbc.incidence + geom_bar() + labs(title = &quot;Barplot of the Effect of Number of First Degree Relatives on Incidence (Unknowns Removed)&quot;, x = &quot;Number of first degree relatives&quot;, y = &quot;Frequency of Positive Diagnoses&quot;)</code></pre>
<p><img src="/test_files/figure-html/unnamed-chunk-12-1.png" width="672" /> <!-- 

Matjaz Zwitter & Milan Soklic (physicians) Institute of Oncology University Medical Center Ljubljana, Yugoslavia -- Donors: Ming Tan and Jeff Schlimmer -- Date: 11 July 1988. 







--></p>
</div>
</div>
